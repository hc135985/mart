(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4165e82e"],{"0517":function(e,t,r){"use strict";r("4bf8"),r("5c98"),r("9dff"),r("abea"),r("c549"),r("652c")},"2f94":function(e,t,r){"use strict";r.d(t,"d",(function(){return a})),r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return d}));r("6a61");var n=r("cf7f"),u=r("ed08");function a(e){return s.apply(this,arguments)}function s(){return s=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].get("/address/list",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function i(e){return c.apply(this,arguments)}function c(){return c=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].post("/address/add",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function o(e){return p.apply(this,arguments)}function p(){return p=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].put("/address/edit",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return f=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].delete("/address/del",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}},"652c":function(e,t,r){},"76ee":function(e,t,r){"use strict";var n=r("77c7"),u=r.n(n);u.a},"77c7":function(e,t,r){},b6f5:function(e,t,r){"use strict";var n=r("d601"),u=r("a593"),a=r("23c4"),s=r.n(a),i=r("d11a"),c=r("1a98"),o=r("ff38"),p=r("96c3"),d=Object(i["a"])("notify"),f=d[0],l=d[1];function m(e,t,r,n){var u={color:t.color,background:t.background};return e(p["a"],s()([{attrs:{value:t.value,position:"top",overlay:!1,duration:.2,lockScroll:!1},style:u,class:[l([t.type]),t.className]},Object(c["b"])(n,!0)]),[(null==r.default?void 0:r.default())||t.message])}m.props=Object(n["a"])({},o["b"],{color:String,message:[Number,String],duration:[Number,String],className:null,background:String,getContainer:[String,Function],type:{type:String,default:"danger"}});var h,g,b=f(m),w=r("10cd");function v(e){return Object(w["e"])(e)?e:{message:e}}function y(e){if(!w["g"])return g||(g=Object(c["c"])(b,{on:{click:function(e){g.onClick&&g.onClick(e)},close:function(){g.onClose&&g.onClose()},opened:function(){g.onOpened&&g.onOpened()}}})),e=Object(n["a"])({},y.currentOptions,v(e)),Object(n["a"])(g,e),clearTimeout(h),e.duration&&e.duration>0&&(h=setTimeout(y.clear,e.duration)),g}function x(){return{type:"danger",value:!0,message:"",color:void 0,background:void 0,duration:3e3,className:"",onClose:null,onClick:null,onOpened:null}}y.clear=function(){g&&(g.value=!1)},y.currentOptions=x(),y.setDefaultOptions=function(e){Object(n["a"])(y.currentOptions,e)},y.resetDefaultOptions=function(){y.currentOptions=x()},y.install=function(){u["a"].use(b)},y.Component=b,u["a"].prototype.$notify=y;t["a"]=y},c24f:function(e,t,r){"use strict";r.d(t,"k",(function(){return a})),r.d(t,"f",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"j",(function(){return d})),r.d(t,"i",(function(){return l})),r.d(t,"h",(function(){return m})),r.d(t,"l",(function(){return h})),r.d(t,"d",(function(){return b})),r.d(t,"e",(function(){return v})),r.d(t,"m",(function(){return x})),r.d(t,"g",(function(){return k})),r.d(t,"b",(function(){return j})),r.d(t,"a",(function(){return S}));r("6a61");var n=r("cf7f"),u=r("ed08");function a(e){return s.apply(this,arguments)}function s(){return s=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].post("/user/login",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function i(e){return c.apply(this,arguments)}function c(){return c=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].get("/user/verifyCode",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function o(e){return p.apply(this,arguments)}function p(){return p=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].get("/user/SendMailVerifyCode",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return f=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].post("/user/modileLogin",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function l(e){return u["a"].put("/user/modifyPwdByMobile",e)}function m(e){return u["a"].put("/user/modifyPwdByEmail",e)}function h(e){return g.apply(this,arguments)}function g(){return g=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].post("/user/registry",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function b(){return w.apply(this,arguments)}function w(){return w=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].get("/user/getUserByToken",{params:{token:localStorage.getItem("vtoken")}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return y=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].get("/user/getUserInfo",{params:{uid:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function x(e){return O.apply(this,arguments)}function O(){return O=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].put("/user/updataUserInfo",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function k(e,t){return R.apply(this,arguments)}function R(){return R=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r?"/user/upload?uid=".concat(r):"/user/upload",e.next=3,u["a"].post(n,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}function j(e){return _.apply(this,arguments)}function _(){return _=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].get("/user/historyAvatar",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function S(e){return $.apply(this,arguments)}function $(){return $=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].put("/user/cutAvatar",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}},f8b7:function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return d}));r("6a61");var n=r("cf7f"),u=r("ed08");function a(e){return s.apply(this,arguments)}function s(){return s=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].get("/order/list",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function i(e){return c.apply(this,arguments)}function c(){return c=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].post("/order/add",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function o(e){return p.apply(this,arguments)}function p(){return p=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].delete("/order/del",{params:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return f=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].put("/order/updateStatus",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}},fa33:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",[e._v("完成订单")]),r("van-address-list",{attrs:{list:e.list,"default-tag-text":"默认"},on:{add:e.onAdd,edit:e.onEdit},model:{value:e.chosenAddressId,callback:function(t){e.chosenAddressId=t},expression:"chosenAddressId"}}),r("ul",e._l(e.$store.state.shopList,(function(t){return r("li",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"item.flag"}],key:t.pid+"setAm"},[r("dl",[r("dt",[r("img",{attrs:{src:t.imgUrl}})]),r("dd",[r("h3",[e._v(e._s(t.pname))]),r("p",[e._v("原价："+e._s(t.original_price))]),r("p",[e._v("现价:"+e._s(t.sale_price))]),r("p",[e._v(e._s(t.count)+"件,共"+e._s(t.count*t.sale_price)+"元")])])])])})),0),r("div",{staticClass:"foot"},[r("span",{on:{click:function(t){return e.addOrder(1)}}},[e._v("支付失败")]),r("span",{on:{click:function(t){return e.addOrder(2)}}},[e._v("支付成功")])])],1)},u=[],a=(r("dbb3"),r("fe59"),r("08ba"),r("0517"),r("b6f5")),s=(r("6a61"),r("cf7f")),i=r("c24f"),c=r("2f94"),o=r("f8b7"),p={data:function(){return{defultAddress:{},uid:"",chosenAddressId:"1",list:[]}},created:function(){this.getDefultAddress(),0===this.$store.state.shopList.length&&this.$router.push("/")},methods:{addOrder:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(localStorage.getItem("aid")){r.next=2;break}return r.abrupt("return",Object(a["a"])("请添加地址"));case 2:return n={status:e,summary:t.$store.getters.total,total:t.$store.getters.allCount,aid:t.$store.state.aid,list:[],uid:t.uid},t.$store.state.shopList.filter((function(e){return e.flag})).forEach((function(e){var t={pid:e.pid,count:e.count};n.list.push(t)})),r.next=6,Object(o["a"])(n);case 6:u=r.sent,1===e?Object(a["a"])({type:"success",message:"支付失败",duration:1e3,onClose:function(){t.$router.go(-1),t.$store.commit("romveShopList")}}):Object(a["a"])({type:"success",message:u.data.msg,duration:1e3,onClose:function(){t.$router.go(-1),t.$store.commit("romveShopList")}});case 8:case"end":return r.stop()}}),r)})))()},getDefultAddress:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(localStorage.getItem("aid")){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(i["d"])();case 4:return r=t.sent,e.uid=r.data.uid,t.next=8,Object(c["d"])({aid:localStorage.getItem("aid"),uid:e.uid});case 8:n=t.sent,u=e.addressItem=n.data.result[0],console.log(u),e.list=[{id:"1",name:u.auser,tel:u.mobile,address:u.province+u.city+u.county+u.street,isDefault:!0}];case 12:case"end":return t.stop()}}),t)})))()},onEdit:function(){this.$router.push({path:"/editadd",query:this.addressItem})},onAdd:function(){localStorage.removeItem("loca"),this.$router.push("/addaddress")}}},d=p,f=(r("76ee"),r("9ca4")),l=Object(f["a"])(d,n,u,!1,null,"2bf51fae",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-4165e82e.897c74d7.js.map