{"version":3,"sources":["webpack:///./node_modules/_vant@2.10.9@vant/es/notify/style/index.js","webpack:///./src/api/address.js","webpack:///./src/containers/product/setAm.vue?e52d","webpack:///./node_modules/_vant@2.10.9@vant/es/notify/Notify.js","webpack:///./node_modules/_vant@2.10.9@vant/es/notify/index.js","webpack:///./src/api/user.js","webpack:///./src/api/order.js","webpack:///./src/containers/product/setAm.vue?f64e","webpack:///src/containers/product/setAm.vue","webpack:///./src/containers/product/setAm.vue?80ff","webpack:///./src/containers/product/setAm.vue"],"names":["_getAddressList","action","request","get","params","_addAddress","post","_editAddress","put","_delAddress","delete","_createNamespace","create","createComponent","bem","Notify","h","props","slots","ctx","style","color","background","value","type","className","default","message","popup","String","Number","duration","getContainer","Function","timer","instance","parseOptions","options","on","click","event","onClick","close","onClose","opened","onOpened","currentOptions","clearTimeout","setTimeout","clear","defaultOptions","undefined","setDefaultOptions","resetDefaultOptions","install","use","Component","prototype","$notify","_passwordlogin","_getverify","acction","_getMmailVerify","_modilelogin","_modifyPwdByMobile","_modifyPwdByEmail","_registryuser","_getUserIdByToken","token","localStorage","getItem","_getUserInfoByUid","uid","_setUserInfoByUid","_imgUpload","url","_getAvatarList","_cutAvatar","_getOrderList","_addOrder","_delOrder","_updataOrder","render","_vm","this","_h","$createElement","_c","_self","_v","attrs","list","onAdd","onEdit","model","callback","$$v","chosenAddressId","expression","_l","$store","state","item","directives","name","rawName","key","pid","imgUrl","_s","pname","original_price","sale_price","count","staticClass","$event","addOrder","staticRenderFns","data","defultAddress","created","getDefultAddress","shopList","length","$router","push","methods","path","query","addressItem","removeItem","component"],"mappings":"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","file":"js/chunk-4165e82e.897c74d7.js","sourcesContent":["import '../../style/base.css';\nimport '../../overlay/index.css';\nimport '../../info/index.css';\nimport '../../icon/index.css';\nimport '../../popup/index.css';\nimport '../index.css';","import { request } from '../utils/index'\r\n\r\nexport async function _getAddressList(action) {\r\n    return await request.get('/address/list', { params: action })\r\n}\r\n\r\n\r\n\r\nexport async function _getAddresscity() {\r\n    return await request.get('/address/city')\r\n}\r\n\r\n\r\nexport async function _addAddress(action) {\r\n    return await request.post('/address/add', action)\r\n}\r\n\r\n\r\nexport async function _editAddress(action) {\r\n    return await request.put('/address/edit', action)\r\n}\r\n\r\n\r\nexport async function _delAddress(action) {\r\n    return await request.delete('/address/del', { params: action })\r\n}","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./setAm.vue?vue&type=style&index=0&id=2bf51fae&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./setAm.vue?vue&type=style&index=0&id=2bf51fae&lang=scss&scoped=true&\"","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\n// Utils\nimport { createNamespace } from '../utils';\nimport { inherit } from '../utils/functional'; // Mixins\n\nimport { popupMixinProps } from '../mixins/popup'; // Components\n\nimport Popup from '../popup'; // Types\n\nvar _createNamespace = createNamespace('notify'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction Notify(h, props, slots, ctx) {\n  var style = {\n    color: props.color,\n    background: props.background\n  };\n  return h(Popup, _mergeJSXProps([{\n    \"attrs\": {\n      \"value\": props.value,\n      \"position\": \"top\",\n      \"overlay\": false,\n      \"duration\": 0.2,\n      \"lockScroll\": false\n    },\n    \"style\": style,\n    \"class\": [bem([props.type]), props.className]\n  }, inherit(ctx, true)]), [(slots.default == null ? void 0 : slots.default()) || props.message]);\n}\n\nNotify.props = _extends({}, popupMixinProps, {\n  color: String,\n  message: [Number, String],\n  duration: [Number, String],\n  className: null,\n  background: String,\n  getContainer: [String, Function],\n  type: {\n    type: String,\n    default: 'danger'\n  }\n});\nexport default createComponent(Notify);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport Vue from 'vue';\nimport VanNotify from './Notify';\nimport { isObject, isServer } from '../utils';\nimport { mount } from '../utils/functional';\nvar timer;\nvar instance;\n\nfunction parseOptions(message) {\n  return isObject(message) ? message : {\n    message: message\n  };\n}\n\nfunction Notify(options) {\n  /* istanbul ignore if */\n  if (isServer) {\n    return;\n  }\n\n  if (!instance) {\n    instance = mount(VanNotify, {\n      on: {\n        click: function click(event) {\n          if (instance.onClick) {\n            instance.onClick(event);\n          }\n        },\n        close: function close() {\n          if (instance.onClose) {\n            instance.onClose();\n          }\n        },\n        opened: function opened() {\n          if (instance.onOpened) {\n            instance.onOpened();\n          }\n        }\n      }\n    });\n  }\n\n  options = _extends({}, Notify.currentOptions, parseOptions(options));\n\n  _extends(instance, options);\n\n  clearTimeout(timer);\n\n  if (options.duration && options.duration > 0) {\n    timer = setTimeout(Notify.clear, options.duration);\n  }\n\n  return instance;\n}\n\nfunction defaultOptions() {\n  return {\n    type: 'danger',\n    value: true,\n    message: '',\n    color: undefined,\n    background: undefined,\n    duration: 3000,\n    className: '',\n    onClose: null,\n    onClick: null,\n    onOpened: null\n  };\n}\n\nNotify.clear = function () {\n  if (instance) {\n    instance.value = false;\n  }\n};\n\nNotify.currentOptions = defaultOptions();\n\nNotify.setDefaultOptions = function (options) {\n  _extends(Notify.currentOptions, options);\n};\n\nNotify.resetDefaultOptions = function () {\n  Notify.currentOptions = defaultOptions();\n};\n\nNotify.install = function () {\n  Vue.use(VanNotify);\n};\n\nNotify.Component = VanNotify;\nVue.prototype.$notify = Notify;\nexport default Notify;","import { request } from '../utils/index'\r\n\r\n\r\nexport async function _passwordlogin(action) {\r\n    return await request.post('/user/login', action)\r\n}\r\n\r\nexport async function _getverify(acction) {\r\n    return await request.get('/user/verifyCode', {\r\n        params: acction\r\n    })\r\n}\r\nexport async function _getMmailVerify(acction) {\r\n    return await request.get('/user/SendMailVerifyCode', {\r\n        params: acction\r\n    })\r\n}\r\nexport async function _modilelogin(action) {\r\n    return await request.post('/user/modileLogin', action)\r\n}\r\n\r\nexport function _modifyPwdByMobile(action) {\r\n    return request.put('/user/modifyPwdByMobile', action)\r\n}\r\nexport function _modifyPwdByEmail(action) {\r\n    return request.put('/user/modifyPwdByEmail', action)\r\n}\r\n\r\nexport async function _registryuser(action) {\r\n    return await request.post('/user/registry', action)\r\n}\r\n\r\nexport async function _getUserIdByToken() {\r\n    return await request.get('/user/getUserByToken', {\r\n        params: {\r\n            token: localStorage.getItem('vtoken')\r\n        }\r\n    })\r\n}\r\nexport async function _getUserInfoByUid(uid) {\r\n    return await request.get('/user/getUserInfo', {\r\n        params: {\r\n            uid\r\n        }\r\n    })\r\n}\r\nexport async function _setUserInfoByUid(action) {\r\n    return await request.put('/user/updataUserInfo', action)\r\n}\r\n\r\n\r\nexport async function _imgUpload(acction, uid) {\r\n    let url = uid ? `/user/upload?uid=${uid}` : '/user/upload'\r\n    return await request.post(url, acction)\r\n}\r\n\r\n\r\nexport async function _getAvatarList(acction) {\r\n    return await request.get('/user/historyAvatar', { params: acction })\r\n}\r\n\r\nexport async function _cutAvatar(acction) {\r\n    return await request.put('/user/cutAvatar', acction)\r\n}","import { request } from '../utils/index'\r\n\r\nexport async function _getOrderList(action) {\r\n    return await request.get('/order/list', { params: action })\r\n}\r\n\r\nexport async function _addOrder(action) {\r\n    return await request.post('/order/add', action)\r\n}\r\n\r\nexport async function _delOrder(action) {\r\n    return await request.delete('/order/del', { params: action })\r\n}\r\n\r\nexport async function _updataOrder(action) {\r\n    return await request.put('/order/updateStatus', action)\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"完成订单\")]),_c('van-address-list',{attrs:{\"list\":_vm.list,\"default-tag-text\":\"默认\"},on:{\"add\":_vm.onAdd,\"edit\":_vm.onEdit},model:{value:(_vm.chosenAddressId),callback:function ($$v) {_vm.chosenAddressId=$$v},expression:\"chosenAddressId\"}}),_c('ul',_vm._l((_vm.$store.state.shopList),function(item){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.flag),expression:\"item.flag\"}],key:item.pid + 'setAm'},[_c('dl',[_c('dt',[_c('img',{attrs:{\"src\":item.imgUrl}})]),_c('dd',[_c('h3',[_vm._v(_vm._s(item.pname))]),_c('p',[_vm._v(\"原价：\"+_vm._s(item.original_price))]),_c('p',[_vm._v(\"现价:\"+_vm._s(item.sale_price))]),_c('p',[_vm._v(_vm._s(item.count)+\"件,共\"+_vm._s(item.count * item.sale_price)+\"元\")])])])])}),0),_c('div',{staticClass:\"foot\"},[_c('span',{on:{\"click\":function($event){return _vm.addOrder(1)}}},[_vm._v(\"支付失败\")]),_c('span',{on:{\"click\":function($event){return _vm.addOrder(2)}}},[_vm._v(\"支付成功\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <h2>完成订单</h2>\r\n            <van-address-list\r\n            v-model=\"chosenAddressId\"\r\n            :list=\"list\"\r\n            default-tag-text=\"默认\"\r\n            @add=\"onAdd\"\r\n            @edit=\"onEdit\"\r\n            />\r\n        <ul>\r\n             <li v-for=\"(item) in $store.state.shopList\" \r\n             :key=\"item.pid + 'setAm'\" v-show=\"item.flag\">\r\n                <dl>\r\n                    <dt>\r\n                        <img :src='item.imgUrl' />\r\n                    </dt>\r\n                    <dd>\r\n                        <h3>{{item.pname}}</h3>\r\n                        <p>原价：{{item.original_price}}</p>\r\n                        <p>现价:{{item.sale_price}}</p>\r\n                        <p>{{item.count}}件,共{{item.count * item.sale_price}}元</p>\r\n                    </dd>\r\n              </dl>\r\n            </li>\r\n        </ul>\r\n\r\n        <div class=\"foot\">\r\n           <span @click=\"addOrder(1)\">支付失败</span>\r\n           <span @click=\"addOrder(2)\">支付成功</span>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { _getUserIdByToken } from '@/api/user'\r\nimport { _getAddressList } from '@/api/address'\r\nimport { _addOrder } from '@/api/order'\r\nimport { Notify } from 'vant'\r\nexport default {\r\n  data() {\r\n    return {\r\n      defultAddress: {},\r\n      uid: '',\r\n      chosenAddressId: '1',\r\n      list: []\r\n    }\r\n  },\r\n  created() {\r\n    this.getDefultAddress()\r\n    if (this.$store.state.shopList.length === 0) {\r\n      this.$router.push('/')\r\n    }\r\n  },\r\n  methods: {\r\n    async addOrder(i) {\r\n      if (!localStorage.getItem('aid')) return Notify('请添加地址')\r\n      let obj = {\r\n        status: i,\r\n        summary: this.$store.getters.total,\r\n        total: this.$store.getters.allCount,\r\n        aid: this.$store.state.aid,\r\n        list: [],\r\n        uid: this.uid\r\n      }\r\n      this.$store.state.shopList.filter(it => it.flag).forEach(e => {\r\n        let item = {\r\n          pid: e.pid,\r\n          count: e.count\r\n        }\r\n        obj.list.push(item)\r\n      })\r\n      let res = await _addOrder(obj)\r\n      if (i === 1) {\r\n        Notify({\r\n          type: 'success',\r\n          message: '支付失败',\r\n          duration: 1000,\r\n          onClose: () => {\r\n            this.$router.go(-1)\r\n            this.$store.commit('romveShopList')\r\n          }\r\n        })\r\n      } else {\r\n        Notify({\r\n          type: 'success',\r\n          message: res.data.msg,\r\n          duration: 1000,\r\n          onClose: () => {\r\n            this.$router.go(-1)\r\n            this.$store.commit('romveShopList')\r\n          }\r\n        })\r\n      }\r\n    },\r\n    async getDefultAddress() {\r\n      if (!localStorage.getItem('aid')) return\r\n      let result = await _getUserIdByToken()\r\n      this.uid = result.data.uid\r\n      let res = await _getAddressList({\r\n        aid: localStorage.getItem('aid'),\r\n        uid: this.uid\r\n      })\r\n      let addressItem = (this.addressItem = res.data.result[0])\r\n      console.log(addressItem)\r\n      this.list = [\r\n        {\r\n          id: '1',\r\n          name: addressItem.auser,\r\n          tel: addressItem.mobile,\r\n          address:\r\n            addressItem.province +\r\n            addressItem.city +\r\n            addressItem.county +\r\n            addressItem.street,\r\n          isDefault: true\r\n        }\r\n      ]\r\n    },\r\n    onEdit() {\r\n      this.$router.push({\r\n        path: '/editadd',\r\n        query: this.addressItem\r\n      })\r\n    },\r\n    onAdd() {\r\n      localStorage.removeItem('loca')\r\n      this.$router.push('/addaddress')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nh2 {\r\n  text-align: center;\r\n  border-bottom: 1px solid #ccc;\r\n  height: 50px;\r\n  line-height: 50px;\r\n}\r\nli {\r\n  dl {\r\n    margin-top: 20px;\r\n    border-bottom: 1px solid #ccc;\r\n    padding-bottom: 20px;\r\n    display: flex;\r\n    dt {\r\n      flex-shrink: 0;\r\n      width: 150px;\r\n      height: 80px;\r\n      img {\r\n        width: 130px;\r\n        height: 100px;\r\n      }\r\n    }\r\n  }\r\n}\r\n.van-address-list__bottom {\r\n  bottom: 50px;\r\n}\r\n.foot {\r\n  width: 100%;\r\n  height: 50px;\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  display: flex;\r\n  border-top: 1px solid #ccc;\r\n  z-index: 999;\r\n  background: #fff;\r\n  span {\r\n    flex: 1;\r\n    text-align: center;\r\n    line-height: 50px;\r\n    font-size: 20px;\r\n  }\r\n  span:nth-child(2) {\r\n    color: #fff;\r\n    background: rgb(235, 97, 97);\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./setAm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./setAm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./setAm.vue?vue&type=template&id=2bf51fae&scoped=true&\"\nimport script from \"./setAm.vue?vue&type=script&lang=js&\"\nexport * from \"./setAm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./setAm.vue?vue&type=style&index=0&id=2bf51fae&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2bf51fae\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}