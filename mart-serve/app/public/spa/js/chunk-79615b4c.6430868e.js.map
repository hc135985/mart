{"version":3,"sources":["webpack:///./node_modules/_vant@2.10.9@vant/es/dialog/style/index.js","webpack:///./src/containers/address/EditAdd.vue?08c1","webpack:///./src/containers/address/EditAdd.vue?69f0","webpack:///src/containers/address/EditAdd.vue","webpack:///./src/containers/address/EditAdd.vue?4807","webpack:///./src/containers/address/EditAdd.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","$router","history","go","_v","ref","areaList","userInfo","searchResult","onSave","onDelete","staticRenderFns","data","result","show","str","created","getAddresscity","item","city","county","street","addressDetail","country","isDefault","name","auser","postalCode","province","tel","mobile","mounted","$refs","address","setAddressDetail","methods","component"],"mappings":"kHAAA,qG,kCCAA,yBAAqrB,EAAG,G,gECAxrB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,KAAK,CAACA,EAAG,WAAW,CAACE,YAAY,MAAMC,MAAM,CAAC,KAAO,WAAWC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIU,QAAQC,QAAQC,GAAG,UAAUZ,EAAIa,GAAG,UAAU,GAAGT,EAAG,mBAAmB,CAACU,IAAI,UAAUP,MAAM,CAAC,YAAYP,EAAIe,SAAS,cAAc,GAAG,mBAAmB,GAAG,qBAAqB,GAAG,cAAc,GAAG,eAAef,EAAIgB,SAAS,gBAAgBhB,EAAIiB,aAAa,2BAA2B,CAAC,MAAO,MAAO,QAAQT,GAAG,CAAC,KAAOR,EAAIkB,OAAO,OAASlB,EAAImB,aAAa,IACtjBC,EAAkB,G,0MCuBtB,GACEC,KADF,WAEI,MAAO,CACLC,OAAQ,KACRC,MAAM,EACNR,SAAU,GACVE,aAAc,GACdD,SAAU,GACVQ,IAAK,KAGTC,QAXF,WAYIxB,KAAKyB,iBACL,IAAJ,oBACIzB,KAAKuB,IAAMG,EAAKC,KAAOD,EAAKE,OAASF,EAAKG,OAC1C7B,KAAKe,SAAW,CACde,cAAe,GACfH,KAAMD,EAAKC,KACXI,QAAS,GACTH,OAAQF,EAAKE,OACbI,WAAW,EACXC,KAAMP,EAAKQ,MACXC,WAAY,SACZC,SAAUV,EAAKU,SACfC,IAAKX,EAAKY,SAGdC,QA3BF,WA4BIvC,KAAKwC,MAAMC,QAAQC,iBAAiB1C,KAAKuB,MAE3CoB,QAAS,CACP,OADJ,SACA,yLACA,iBADA,cACA,EADA,OAEA,GACA,aACA,aACA,oBACA,YACA,gBACA,eACA,uBACA,wBAVA,SAYA,kBAZA,OAYA,EAZA,OAaA,cACA,cACA,+CACA,IACA,sCACA,kCAEA,gBACA,eACA,mBACA,aACA,mBACA,uBAIA,uBA7BA,8CA+BI,SAhCJ,WAgCA,8KACA,yCADA,OACA,EADA,OAEA,gBACA,WACA,mBAEA,iBACA,aACA,gBACA,cACA,mBACA,aACA,mBACA,mBACA,qCAKA,kBACA,0BApBA,8CAuBI,eAvDJ,WAuDA,wJACA,4BADA,gDC7Goc,I,wBCQhcC,EAAY,eACd,EACA9C,EACAqB,GACA,EACA,KACA,KACA,MAIa,aAAAyB,E","file":"js/chunk-79615b4c.6430868e.js","sourcesContent":["import '../../style/base.css';\nimport '../../overlay/index.css';\nimport '../../info/index.css';\nimport '../../icon/index.css';\nimport '../../popup/index.css';\nimport '../../loading/index.css';\nimport '../../button/index.css';\nimport '../../goods-action-button/index.css';\nimport '../../goods-action/index.css';\nimport '../index.css';","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./EditAdd.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./EditAdd.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_c('van-icon',{staticClass:\"del\",attrs:{\"name\":\"share-o\"},on:{\"click\":function($event){return _vm.$router.history.go('-1')}}}),_vm._v(\" 修改地址\")],1),_c('van-address-edit',{ref:\"address\",attrs:{\"area-list\":_vm.areaList,\"show-postal\":\"\",\"show-set-default\":\"\",\"show-search-result\":\"\",\"show-delete\":\"\",\"address-info\":_vm.userInfo,\"search-result\":_vm.searchResult,\"area-columns-placeholder\":['请选择', '请选择', '请选择']},on:{\"save\":_vm.onSave,\"delete\":_vm.onDelete}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n         <h2>   <van-icon name=\"share-o\" class='del' @click=\"$router.history.go('-1')\" />\r\n       修改地址</h2>\r\n       <van-address-edit\r\n        :area-list=\"areaList\"\r\n        show-postal\r\n        show-set-default\r\n        show-search-result\r\n        show-delete\r\n        :address-info='userInfo'\r\n        :search-result=\"searchResult\"\r\n        :area-columns-placeholder=\"['请选择', '请选择', '请选择']\"\r\n        @save=\"onSave\"\r\n        @delete=\"onDelete\"\r\n        ref=\"address\"\r\n      />\r\n    </div>\r\n</template>\r\n<script>\r\nimport { Toast, Notify, Dialog } from 'vant'\r\nimport city from '@/utils/city'\r\nimport { _getUserIdByToken } from '@/api/user'\r\nimport { _editAddress, _delAddress } from '@/api/address'\r\nexport default {\r\n  data() {\r\n    return {\r\n      result: null,\r\n      show: false,\r\n      areaList: {},\r\n      searchResult: [],\r\n      userInfo: {},\r\n      str: ''\r\n    }\r\n  },\r\n  created() {\r\n    this.getAddresscity()\r\n    let item = this.$route.query\r\n    this.str = item.city + item.county + item.street\r\n    this.userInfo = {\r\n      addressDetail: '',\r\n      city: item.city,\r\n      country: '',\r\n      county: item.county,\r\n      isDefault: false,\r\n      name: item.auser,\r\n      postalCode: '400011',\r\n      province: item.province,\r\n      tel: item.mobile\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$refs.address.setAddressDetail(this.str)\r\n  },\r\n  methods: {\r\n    async onSave(e) {\r\n      let uid = await _getUserIdByToken()\r\n      let action = {\r\n        auser: e.name,\r\n        mobile: e.tel,\r\n        province: e.province,\r\n        city: e.city,\r\n        county: e.county,\r\n        uid: uid.data.uid,\r\n        street: e.addressDetail,\r\n        aid: this.$route.query.aid\r\n      }\r\n      let res = await _editAddress(action)\r\n      if (res.data.code) {\r\n        if (e.isDefault) {\r\n          localStorage.setItem('aid', this.$route.query.aid)\r\n          let item = action\r\n          let str = item.province + item.city + item.county + item.street\r\n          localStorage.setItem('mycity', str)\r\n        }\r\n        Notify({\r\n          type: 'success',\r\n          message: res.data.msg,\r\n          duration: 2000,\r\n          onClose: () => {\r\n            this.$router.go('-1')\r\n          }\r\n        })\r\n      }\r\n      Toast('save')\r\n    },\r\n    async onDelete() {\r\n      let result = await _delAddress({ aid: this.$route.query.aid })\r\n      Dialog.confirm({\r\n        title: '删除',\r\n        message: '确定要删除吗'\r\n      })\r\n        .then(() => {\r\n          if (result.data.code) {\r\n            Notify({\r\n              type: 'danger',\r\n              message: result.data.msg,\r\n              duration: 2000,\r\n              onClose: () => {\r\n                this.$router.go('-1')\r\n                localStorage.removeItem('aid')\r\n              }\r\n            })\r\n          }\r\n        })\r\n        .catch(() => {\r\n          Toast('取消删除')\r\n        })\r\n    },\r\n    async getAddresscity() {\r\n      this.areaList = city()\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.del {\r\n  font-size: 20px;\r\n  position: fixed;\r\n  left: 10px;\r\n  top: 12px;\r\n  z-index: 5;\r\n  color: rgb(163, 41, 191);\r\n}\r\nh2 {\r\n  text-align: center;\r\n  line-height: 40px;\r\n  height: 40px;\r\n  border-bottom: 1px solid #ccc;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./EditAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./EditAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditAdd.vue?vue&type=template&id=ddb5eeb0&\"\nimport script from \"./EditAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./EditAdd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditAdd.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}