{"version":3,"sources":["webpack:///./node_modules/_vant@2.10.9@vant/es/notify/style/index.js","webpack:///./src/containers/user/login.vue?185b","webpack:///./node_modules/_vant@2.10.9@vant/es/notify/Notify.js","webpack:///./node_modules/_vant@2.10.9@vant/es/notify/index.js","webpack:///./src/api/user.js","webpack:///./src/containers/user/login.vue?0458","webpack:///src/containers/user/login.vue","webpack:///./src/containers/user/login.vue?344a","webpack:///./src/containers/user/login.vue"],"names":["_createNamespace","create","createComponent","bem","Notify","h","props","slots","ctx","style","color","background","value","type","className","default","message","popup","String","Number","duration","getContainer","Function","timer","instance","parseOptions","options","on","click","event","onClick","close","onClose","opened","onOpened","currentOptions","clearTimeout","setTimeout","clear","defaultOptions","undefined","setDefaultOptions","resetDefaultOptions","install","use","Component","prototype","$notify","_passwordlogin","action","request","post","_getverify","acction","get","params","_getMmailVerify","_modilelogin","_modifyPwdByMobile","put","_modifyPwdByEmail","_registryuser","_getUserIdByToken","token","localStorage","getItem","_getUserInfoByUid","uid","_setUserInfoByUid","_imgUpload","url","_getAvatarList","_cutAvatar","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","class","tab","$event","tabc","onSubmit","attrs","required","model","callback","$$v","username","expression","password","$router","history","push","staticStyle","_e","onmobile","mobile","verifyCode","verifyclass","getverify","_s","msg","staticRenderFns","data","t","methods","res","code","setItem","n","clearInterval","reg","test","setInterval","i","component"],"mappings":"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","file":"js/chunk-d2988686.8939ab44.js","sourcesContent":["import '../../style/base.css';\nimport '../../overlay/index.css';\nimport '../../info/index.css';\nimport '../../icon/index.css';\nimport '../../popup/index.css';\nimport '../index.css';","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&lang=scss&\"","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\n// Utils\nimport { createNamespace } from '../utils';\nimport { inherit } from '../utils/functional'; // Mixins\n\nimport { popupMixinProps } from '../mixins/popup'; // Components\n\nimport Popup from '../popup'; // Types\n\nvar _createNamespace = createNamespace('notify'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction Notify(h, props, slots, ctx) {\n  var style = {\n    color: props.color,\n    background: props.background\n  };\n  return h(Popup, _mergeJSXProps([{\n    \"attrs\": {\n      \"value\": props.value,\n      \"position\": \"top\",\n      \"overlay\": false,\n      \"duration\": 0.2,\n      \"lockScroll\": false\n    },\n    \"style\": style,\n    \"class\": [bem([props.type]), props.className]\n  }, inherit(ctx, true)]), [(slots.default == null ? void 0 : slots.default()) || props.message]);\n}\n\nNotify.props = _extends({}, popupMixinProps, {\n  color: String,\n  message: [Number, String],\n  duration: [Number, String],\n  className: null,\n  background: String,\n  getContainer: [String, Function],\n  type: {\n    type: String,\n    default: 'danger'\n  }\n});\nexport default createComponent(Notify);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport Vue from 'vue';\nimport VanNotify from './Notify';\nimport { isObject, isServer } from '../utils';\nimport { mount } from '../utils/functional';\nvar timer;\nvar instance;\n\nfunction parseOptions(message) {\n  return isObject(message) ? message : {\n    message: message\n  };\n}\n\nfunction Notify(options) {\n  /* istanbul ignore if */\n  if (isServer) {\n    return;\n  }\n\n  if (!instance) {\n    instance = mount(VanNotify, {\n      on: {\n        click: function click(event) {\n          if (instance.onClick) {\n            instance.onClick(event);\n          }\n        },\n        close: function close() {\n          if (instance.onClose) {\n            instance.onClose();\n          }\n        },\n        opened: function opened() {\n          if (instance.onOpened) {\n            instance.onOpened();\n          }\n        }\n      }\n    });\n  }\n\n  options = _extends({}, Notify.currentOptions, parseOptions(options));\n\n  _extends(instance, options);\n\n  clearTimeout(timer);\n\n  if (options.duration && options.duration > 0) {\n    timer = setTimeout(Notify.clear, options.duration);\n  }\n\n  return instance;\n}\n\nfunction defaultOptions() {\n  return {\n    type: 'danger',\n    value: true,\n    message: '',\n    color: undefined,\n    background: undefined,\n    duration: 3000,\n    className: '',\n    onClose: null,\n    onClick: null,\n    onOpened: null\n  };\n}\n\nNotify.clear = function () {\n  if (instance) {\n    instance.value = false;\n  }\n};\n\nNotify.currentOptions = defaultOptions();\n\nNotify.setDefaultOptions = function (options) {\n  _extends(Notify.currentOptions, options);\n};\n\nNotify.resetDefaultOptions = function () {\n  Notify.currentOptions = defaultOptions();\n};\n\nNotify.install = function () {\n  Vue.use(VanNotify);\n};\n\nNotify.Component = VanNotify;\nVue.prototype.$notify = Notify;\nexport default Notify;","import { request } from '../utils/index'\r\n\r\n\r\nexport async function _passwordlogin(action) {\r\n    return await request.post('/user/login', action)\r\n}\r\n\r\nexport async function _getverify(acction) {\r\n    return await request.get('/user/verifyCode', {\r\n        params: acction\r\n    })\r\n}\r\nexport async function _getMmailVerify(acction) {\r\n    return await request.get('/user/SendMailVerifyCode', {\r\n        params: acction\r\n    })\r\n}\r\nexport async function _modilelogin(action) {\r\n    return await request.post('/user/modileLogin', action)\r\n}\r\n\r\nexport function _modifyPwdByMobile(action) {\r\n    return request.put('/user/modifyPwdByMobile', action)\r\n}\r\nexport function _modifyPwdByEmail(action) {\r\n    return request.put('/user/modifyPwdByEmail', action)\r\n}\r\n\r\nexport async function _registryuser(action) {\r\n    return await request.post('/user/registry', action)\r\n}\r\n\r\nexport async function _getUserIdByToken() {\r\n    return await request.get('/user/getUserByToken', {\r\n        params: {\r\n            token: localStorage.getItem('vtoken')\r\n        }\r\n    })\r\n}\r\nexport async function _getUserInfoByUid(uid) {\r\n    return await request.get('/user/getUserInfo', {\r\n        params: {\r\n            uid\r\n        }\r\n    })\r\n}\r\nexport async function _setUserInfoByUid(action) {\r\n    return await request.put('/user/updataUserInfo', action)\r\n}\r\n\r\n\r\nexport async function _imgUpload(acction, uid) {\r\n    let url = uid ? `/user/upload?uid=${uid}` : '/user/upload'\r\n    return await request.post(url, acction)\r\n}\r\n\r\n\r\nexport async function _getAvatarList(acction) {\r\n    return await request.get('/user/historyAvatar', { params: acction })\r\n}\r\n\r\nexport async function _cutAvatar(acction) {\r\n    return await request.put('/user/cutAvatar', acction)\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('h2',[_vm._v(\"登录\")]),_c('p',{staticClass:\"tab\"},[_c('span',{class:{'active':_vm.tab===0},on:{\"click\":function($event){return _vm.tabc(0)}}},[_vm._v(\"密码登录\")]),_c('span',{class:{'active':_vm.tab===1},on:{\"click\":function($event){return _vm.tabc(1)}}},[_vm._v(\"手机号登录\")])]),(_vm.tab===0)?_c('van-form',{on:{\"submit\":_vm.onSubmit}},[_c('van-field',{attrs:{\"name\":\"username\",\"label\":\"用户名\",\"placeholder\":\"用户名\",\"rules\":[{ required: true, message: '请填写用户名' }]},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"name\":\"password\",\"label\":\"密码\",\"placeholder\":\"密码\",\"rules\":[{ required: true, message: '请填写密码' }]},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('span',{staticClass:\"forgetPwd\",on:{\"click\":function($event){return _vm.$router.history.push('/forgetpwd')}}},[_vm._v(\"忘记密码?\")]),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"}},[_vm._v(\" 提交 \")])],1)],1):_vm._e(),(_vm.tab===1)?_c('van-form',{on:{\"submit\":_vm.onmobile}},[_c('van-field',{attrs:{\"name\":\"mobile\",\"label\":\"手机号\",\"placeholder\":\"手机号\",\"rules\":[{ required: true, message: '请填写手机号' }]},model:{value:(_vm.mobile),callback:function ($$v) {_vm.mobile=$$v},expression:\"mobile\"}}),_c('van-field',{attrs:{\"name\":\"verifyCode\",\"label\":\"验证码\",\"placeholder\":\"验证码\",\"rules\":[{ required: true, message: '请填写验证码' }]},model:{value:(_vm.verifyCode),callback:function ($$v) {_vm.verifyCode=$$v},expression:\"verifyCode\"}}),_c('span',{class:_vm.verifyclass ? 'db' :'verify',on:{\"click\":_vm.getverify}},[_vm._v(_vm._s(_vm.msg))]),_c('span',{staticClass:\"forgetPwd\",on:{\"click\":function($event){return _vm.$router.history.push('/forgetpwd')}}},[_vm._v(\"忘记密码?\")]),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"}},[_vm._v(\" 提交 \")])],1)],1):_vm._e(),_c('van-button',{staticStyle:{\"width\":\"90%\",\"margin\":\"0 auto\"},attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\"},on:{\"click\":function($event){return _vm.$router.history.push('/register')}}},[_vm._v(\" 注册 \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"login\">\r\n    <h2>登录</h2>\r\n    <p class=\"tab\">\r\n       <span :class=\"{'active':tab===0}\" @click=\"tabc(0)\">密码登录</span>\r\n       <span :class=\"{'active':tab===1}\" @click=\"tabc(1)\">手机号登录</span>\r\n    </p>\r\n    <van-form @submit=\"onSubmit\" v-if=\"tab===0\" >\r\n        <van-field\r\n        v-model=\"username\"\r\n        name=\"username\"\r\n        label=\"用户名\"\r\n        placeholder=\"用户名\"\r\n        :rules=\"[{ required: true, message: '请填写用户名' }]\"\r\n        />\r\n        <van-field\r\n        v-model=\"password\"\r\n        type=\"password\"\r\n        name=\"password\"\r\n        label=\"密码\"\r\n        placeholder=\"密码\"\r\n        :rules=\"[{ required: true, message: '请填写密码' }]\"\r\n        />\r\n        <span class='forgetPwd' \r\n        @click=\"$router.history.push('/forgetpwd')\" \r\n        >忘记密码?</span>\r\n        <div style=\"margin: 16px;\">\r\n         <van-button round block type=\"info\" native-type=\"submit\">\r\n            提交\r\n         </van-button>\r\n        </div>\r\n    </van-form>\r\n    <van-form @submit=\"onmobile\" v-if=\"tab===1\" >\r\n        <van-field\r\n        v-model=\"mobile\"\r\n        name=\"mobile\"\r\n        label=\"手机号\"\r\n        placeholder=\"手机号\"\r\n        :rules=\"[{ required: true, message: '请填写手机号' }]\"\r\n        />\r\n        <van-field\r\n        v-model=\"verifyCode\"\r\n        name=\"verifyCode\"\r\n        label=\"验证码\"\r\n        placeholder=\"验证码\"\r\n        :rules=\"[{ required: true, message: '请填写验证码' }]\"\r\n        />\r\n        <span :class=\"verifyclass ? 'db' :'verify' \" @click=\"getverify\" >{{msg}}</span>\r\n          <span class='forgetPwd' \r\n        @click=\"$router.history.push('/forgetpwd')\" \r\n        >忘记密码?</span>\r\n        <div style=\"margin: 16px;\">\r\n         <van-button  round block type=\"info\" native-type=\"submit\">\r\n            提交\r\n         </van-button>\r\n        </div>\r\n    </van-form>\r\n      <van-button  @click=\"$router.history.push('/register')\" style=\"width:90%;margin:0 auto;\" round block type=\"info\" >\r\n            注册\r\n         </van-button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { _passwordlogin, _getverify, _modilelogin } from '@/api/user'\r\nimport Vue from 'vue'\r\nimport { Notify } from 'vant'\r\n\r\n// 全局注册\r\nVue.use(Notify)\r\nexport default {\r\n  data() {\r\n    return {\r\n      username: '',\r\n      password: '',\r\n      mobile: '',\r\n      tab: 0,\r\n      verifyCode: '',\r\n      msg: '获取验证码',\r\n      verifyclass: false,\r\n      t: null\r\n    }\r\n  },\r\n  methods: {\r\n    onSubmit(values) {\r\n      _passwordlogin(values).then(res => {\r\n        if (res.data.code) {\r\n          Notify({\r\n            type: 'success',\r\n            message: res.data.msg,\r\n            duration: 2000,\r\n            onClose: () => {\r\n              this.username = this.password = ''\r\n              localStorage.setItem('vtoken', res.data.token)\r\n              this.$router.history.push('/')\r\n            }\r\n          })\r\n        } else {\r\n          Notify({\r\n            type: 'danger',\r\n            message: res.data.msg + '请先注册',\r\n            duration: 2000,\r\n            onClose: () => {\r\n              this.username = this.password = ''\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    tabc(n) {\r\n      this.tab = n\r\n    },\r\n    onmobile(values) {\r\n      _modilelogin(values).then(res => {\r\n        if (res.data.code) {\r\n          Notify({\r\n            type: 'success',\r\n            message: '登陆成功',\r\n            duration: 2000,\r\n            onClose: () => {\r\n              localStorage.setItem('vtoken', res.data.token)\r\n              this.$router.history.push('/')\r\n            }\r\n          })\r\n        } else {\r\n          Notify({\r\n            type: 'danger',\r\n            message: res.data.msg,\r\n            duration: 2000,\r\n            onClose: () => {\r\n              this.mobile = this.verifyCode = ''\r\n              this.msg = '获取验证码'\r\n              clearInterval(this.t)\r\n              this.verifyclass = false\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    getverify() {\r\n      let reg = /^1[3578]\\d{9}$/\r\n      if (!reg.test(this.mobile)) {\r\n        return Notify({\r\n          type: 'danger',\r\n          message: '请输入正确的手机号'\r\n        })\r\n      }\r\n      _getverify({ mobile: this.mobile }).then(res => {\r\n        if (res.data.code) {\r\n          Notify({\r\n            type: 'success',\r\n            message: '您的验证码为' + res.data.verifyCode\r\n          })\r\n        }\r\n      })\r\n      let i = 60\r\n      if (this.verifyclass) return\r\n      this.verifyclass = true\r\n      this.t = setInterval(() => {\r\n        this.msg = `剩余${i}秒`\r\n        i--\r\n        if (i === 0) {\r\n          this.msg = '获取验证码'\r\n          clearInterval(this.t)\r\n          this.verifyclass = false\r\n        }\r\n      }, 1000)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.login {\r\n  h2 {\r\n    width: 100%;\r\n    text-align: center;\r\n    border-bottom: 1px solid #ccc;\r\n    height: 50px;\r\n    line-height: 50px;\r\n  }\r\n  .tab {\r\n    width: 100%;\r\n    display: flex;\r\n    span {\r\n      flex: 1;\r\n      text-align: center;\r\n      height: 40px;\r\n      line-height: 40px;\r\n      border-bottom: 1px solid #000;\r\n    }\r\n    .active {\r\n      color: orangered;\r\n      border-bottom: 2px solid orangered;\r\n    }\r\n  }\r\n  .forgetPwd {\r\n    float: right;\r\n    color: rgb(48, 48, 248);\r\n    height: 30px;\r\n    margin-right: 20px;\r\n    text-decoration: underline;\r\n  }\r\n  .verify {\r\n    position: fixed;\r\n    right: 20px;\r\n    top: 140px;\r\n    z-index: 88;\r\n    padding: 5px 20px;\r\n    background: skyblue;\r\n    color: #fff;\r\n    border-radius: 20px;\r\n    font-size: 14px;\r\n  }\r\n\r\n  .db {\r\n    border-radius: 20px;\r\n    font-size: 14px;\r\n    position: fixed;\r\n    right: 20px;\r\n    top: 140px;\r\n    z-index: 88;\r\n    padding: 5px 20px;\r\n    background: #ccc;\r\n    color: #000;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=0e42aa4a&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}